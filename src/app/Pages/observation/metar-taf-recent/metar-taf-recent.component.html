<ion-content>
  <app-loading *ngIf="loading"></app-loading>

  <div id="top"></div>
  <app-package-content>
    <app-package-header class="package-header">
      Recent METAR/TAFs
    </app-package-header>

    <app-package-sub-header>
      <div
        id="w-node-e7ec9294-4182-a125-c428-84c8c81f6e70-5aa24fea"
        class="w-layout-grid grid-cct-copy"
      >
        <div
          id="w-node-_211f6e7f-4ab3-965d-1518-9c1f84dfceec-5aa24fea"
          class="cct"
        >
          <h1 class="heading-7">Date:</h1>
          <h1 class="heading-8">{{ currentDate  }}</h1>
        </div>
        <div
          id="w-node-_2ef88a37-3b9e-7fec-658a-a6f84d594d57-5aa24fea"
          class="cct"
        >
          <h1 class="heading-7">Time:</h1>
        <h1 class="heading-8">{{ currentTime }}</h1>
        </div>
      </div>
    <div class="image-container">
        <div
          id="w-node-a4a2a6b3-fb94-67a5-1e0f-a72ba37feb73-9377a649"
          class="form-block w-form"
        >
          <div class="form-block w-form">
            <div
              id="w-node-ca5eddba-f83b-3b16-a8ac-5450b410e804-9377a649"
              class="div-block-41"
            >
              <label for="field-2" class="field-label">Template Name</label
              ><input
                class="text-field w-input"
                maxlength="256"
                name="field-2"
                data-name="Field 2"
                placeholder=""
                type="text"
                id="field-2"
                required=""
              />
            </div>
            <div>
              <div
                class="dropdown-container"
                (click)="selectDropdown('dropdown6')"
              >
                <label for="" class="field-label">select template:</label>
                <div class="dropdown-toggle">
                  <div class="text-block">{{ selectedOption6 }}</div>
                  <div class="dropdown-arrow">
                    <img
                      src="../../assets/icon/arrow-drop-down-svgrepo-com.svg"
                      loading="lazy"
                      alt=""
                    />
                  </div>
                  <!-- Arrow icon -->
                </div>
            
              <nav class="dropdown-list1" *ngIf="isDropdownOpen6">
  <a class="w-dropdown-link" (click)="selectOption('1 min', 'dropdown6')">1 min</a>
  <a class="w-dropdown-link" (click)="selectOption('2 min', 'dropdown6')">2 Min</a>
  <a class="w-dropdown-link" (click)="selectOption('3 min', 'dropdown6')">3 min</a>
  <a class="w-dropdown-link" (click)="selectOption('4 min', 'dropdown6')">4 min</a>
  <a class="w-dropdown-link" (click)="selectOption('5 min', 'dropdown6')">5 min</a>
</nav>


              </div>
            </div>
            <div style="margin-top: 5px">
              <div class="div-block-39">
                <input
                  type="submit"
                  data-wait="Please wait..."
                  class="submit-button-3-copy w-button"
                  value="Save"
                /><input
                  type="submit"
                  data-wait="Please wait..."
                  class="submit-button-3 w-button"
                  value="Cancel"
                />
              </div>
              <div class="div-block-14">
                <h5 class="heading-9">Query METARs </h5>
                <form (submit)="onSearch(); $event.preventDefault()" class="search w-form">
                  <input
                    class="search-input w-input"
                    maxlength="256"
                    name="query"
                    placeholder="Searchâ€¦"
                    type="search"
                    id="search"
                    required=""
                     [(ngModel)]="searchQuery"
                  />
                  <input
                    type="submit"
                    class="search-button w-button"
                    value="Search"
                  />
                </form>
              </div>

              <!-- <h4 class="heading-45">Successfully added a template</h4> -->
            </div>
          </div>

          <div class="form-block w-form">
            <label for="" class="field-label">Time:</label>
            <div
              class="dropdown-container"
              (click)="selectDropdown('dropdown5')"
            >
              <div class="dropdown-toggle">
                <div class="text-block">Last Hour</div>
                <div class="dropdown-arrow">
                  <img
                    src="../../assets/icon/arrow-drop-down-svgrepo-com.svg"
                    loading="lazy"
                    alt=""
                  />
                </div>
                <!-- Arrow icon -->
              </div>
              <nav class="dropdown-list1" *ngIf="isDropdownOpen5">
        <a class="w-dropdown-link" (click)="selectOption('Most Recent', 'dropdown5')">Most Recent</a>
        <a class="w-dropdown-link" (click)="selectOption('Last 1 hour', 'dropdown5')">Last 1 hour</a>
        <a class="w-dropdown-link" (click)="selectOption('Last 2 hours', 'dropdown5')">Last 2 hours</a>
        <a class="w-dropdown-link" (click)="selectOption('Last 3 hours', 'dropdown5')">Last 3 hours</a>
        <a class="w-dropdown-link" (click)="selectOption('Last 4 hours', 'dropdown5')">Last 4 hours</a>
        <a class="w-dropdown-link" (click)="selectOption('Last 5 hours', 'dropdown5')">Last 5 hours</a>
        <a class="w-dropdown-link" (click)="selectOption('Last 6 hours', 'dropdown5')">Last 6 hours</a>
        <a class="w-dropdown-link" (click)="selectOption('Last 12 hours', 'dropdown5')">Last 12 hours</a>
        <a class="w-dropdown-link" (click)="selectOption('Last 18 hours', 'dropdown5')">Last 18 hours</a>
        <a class="w-dropdown-link" (click)="selectOption('Last 24 hours', 'dropdown5')">Last 24 hours</a>
        <a class="w-dropdown-link" (click)="selectOption('Last 36 hours', 'dropdown5')">Last 36 hours</a>
      </nav>

            </div>

            <label for="" class="field-label">Refresh page every :</label>
            <div
              class="dropdown-container"
              (click)="selectDropdown('dropdown11')"
            >
              <div class="dropdown-toggle">
                <div class="text-block">5 min</div>
                <div class="dropdown-arrow">
                  <img
                    src="../../assets/icon/arrow-drop-down-svgrepo-com.svg"
                    loading="lazy"
                    alt=""
                  />
                </div>
                <!-- Arrow icon -->
              </div>
                <nav class="dropdown-list1" *ngIf="isDropdownOpen11">
            <a class="w-dropdown-link" (click)="selectOption('1 min', 'dropdown11')">1 min</a>
            <a class="w-dropdown-link" (click)="selectOption('2 min', 'dropdown11')">2 Min</a>
            <a class="w-dropdown-link" (click)="selectOption('3 min', 'dropdown11')">3 min</a>
            <a class="w-dropdown-link" (click)="selectOption('4 min', 'dropdown11')">4 min</a>
            <a class="w-dropdown-link" (click)="selectOption('5 min', 'dropdown11')">5 min</a>
          </nav>

            </div>
          </div>
        </div>
      </div>
       <div class="checkbox-field">
  <label class="custom-checkbox">
    <input
      type="checkbox"
    
      name="includeSigmets"
    [(ngModel)]="showSigmetSearch"
      (change)="filterbySearch()"
    />
    <span class="checkmark"></span>
    Include SIGMETs
  </label>
</div>
         <div></div>
             
            <div></div>
    </app-package-sub-header>

    <app-package-list-items>
  
       <ng-container  *ngIf="searchDone" >
           <h1 class="heading-21 searched">SIGMETs</h1>
    <ng-container id="sigmet-list-container">
   <div
        id="w-node-_5f88f6f6-8fce-d572-7c6f-63acb9f1cb43-61ad4633"
        class="div-block-15"
      >
        <div *ngFor="let sigmet of SigmetList">
          <div class="w-layout-grid heading-text">
            <div
              id="w-node-_5f88f6f6-8fce-d572-7c6f-63acb9f1cb50-61ad4633"
              class="cct-copy-copy"
            >
              <h1 class="heading-21">{{ sigmet.heading }}</h1>
            </div>
          </div>
          <div class="w-layout-grid grid-18">
            <div
              id="w-node-_5f88f6f6-8fce-d572-7c6f-63acb9f1cb57-61ad4633"
              class="div-block-16"
            >
              <p class="paragraph-2  sigmet-text" [innerHTML]="formatSigmetForDisplay(sigmet.filecontent)"></p>

            </div>
        
          </div>
        </div>
      </div>
 </ng-container>

       <ng-container *ngFor="let province of objectKeys(groupedReportsByProvince)">
  <!-- METARs -->
  <h1 class="heading-21 searched">METARs</h1>
  <div *ngFor="let report of groupedReportsByProvince[province]">
    <div *ngIf="report.filecontent.startsWith('METAR')">
      <h1 class="heading-21">{{ report.filecontent }}</h1>
    </div>
  </div>

  <!-- TAFs -->
  <h1 class="heading-21 searched">TAFs</h1>
  <div *ngFor="let report of groupedReportsByProvince[province]">
    <div *ngIf="report.filecontent.startsWith('TAF')">
      <h1 class="heading-21">{{ report.filecontent }}</h1>
    </div>
  </div>
</ng-container>

       </ng-container>
      


    </app-package-list-items>
  </app-package-content>
</ion-content>
<app-footer></app-footer>

<div class="footerdiv" id="footerdivid1">
  <div (click)="navigateToObservation()" class="link-block-5 w-inline-block">
    <img src="../../assets/Group-4522.svg" loading="lazy" alt="" />
    <h6
      class="heading-10-copy"
      id="styleh6"
      style="
        color: #fff;
        margin-top: 10px;
        margin-bottom: 0;
        font-family: Montserrat, sans-serif;
        text-decoration: none;
        font-size: 12px;
        margin-top: 4px;
      "
    >
      Observation
    </h6>
  </div>
</div>
